<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>박정모-네이버:회원가입</title>
        <link rel="stylesheet" href="css/reset.css" />
        <link rel="stylesheet" href="css/common.css" />
        <style type="text/css"></style>
    </head>

    <!-- @filename      : main.html -->
    <!-- @author        : 박정모(oooperbjm@gmail.com) -->
    <!-- @description   : Naver 회원가입 페이지 Clone Codding -->
    <body>
        <div id="container">
            <div id="header">
                <div class="logo"></div>
            </div>
            <div id="content">
                <form class="form-horizontal" name="join_form" id="join_form">
                    <div class="form-group">
                        <label for="user_id" class="col-md-2">아이디</label>
                        <div class="col-md-10">
                            <input type="text" name="user_id" id="user_id" class="form-control" />
                            <span class="span1">@naver.com</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="user_pw" class="col-md-2">비밀번호</label>
                        <div class="col-md-10">
                            <input type="password" name="user_pw" id="user_pw" class="form-control" />
                            <div class="icon1"></div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="user_pw_re" class="col-md-2">비밀번호 재확인</label>
                        <div class="col-md-10">
                            <input type="password" name="user_pw_re" id="user_pw_re" class="form-control" />
                            <div class="icon2" id="icon2"></div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="user_name" class="col-md-2">이름</label>
                        <div class="col-md-10">
                            <input type="text" name="user_name" id="user_name" class="form-control" />
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="user_bty" class="col-md-2">생년월일</label>
                        <div class="bt">
                            <div class="col-md-11">
                                <input type="text" name="user_bty" id="user_bty" maxlength="4" class="form-control2" placeholder="년(4자)" />
                            </div>
                            <div class="col-md-11">
                                <select name="user_btm" id="user_btm" class="form-control2">
                                    <option value="m0" class="btm">월</option>
                                    <option value="m1" class="btm">1</option>
                                    <option value="m2" class="btm">2</option>
                                    <option value="m3" class="btm">3</option>
                                    <option value="m4" class="btm">4</option>
                                    <option value="m5" class="btm">5</option>
                                    <option value="m6" class="btm">6</option>
                                    <option value="m7" class="btm">7</option>
                                    <option value="m8" class="btm">8</option>
                                    <option value="m9" class="btm">9</option>
                                    <option value="m10" class="btm">10</option>
                                    <option value="m11" class="btm">11</option>
                                    <option value="m12" class="btm">12</option>
                                </select>
                            </div>
                            <div class="col-md-11">
                                <input type="text" name="user_btd" id="user_btd" maxlength="2" class="form-control2" placeholder="일" />
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="user_gender" class="col-md-2">성별</label>
                        <div class="col-md-10">
                            <select name="user_gender" id="user_gender" class="form-control">
                                <option value="" class="gender">성별</option>
                                <option value="M" class="gender">남자</option>
                                <option value="F" class="gender">여자</option>
                                <option value="N" class="gender">선택안함</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="email" class="col-md-2">본인 확인 이메일<span class="e-span">(선택)</span></label>
                        <div class="col-md-10">
                            <input type="text" name="email" id="email" class="form-control" placeholder="선택입력" />
                        </div>
                    </div>

                    <div class="form-group form-group2">
                        <label for="tel" class="col-md-2">휴대전화</label>
                        <div class="col-md-10">
                            <select name="contry" id="contry" class="form-control">
                                <option value="korea">대한민국 +82</option>
                                <option value="japan">일본 +81</option>
                                <option value="china">중국 +86</option>
                            </select>
                        </div>

                        <div class="col-md-12">
                            <input type="tel" name="tel" id="tel" class="form-control" placeholder="전화번호 입력" />
                        </div>
                        <a href="#tel" class="inz" role="button">인증번호 받기</a>

                        <div class="col-md-10">
                            <input type="number" name="inz-i" id="inz-i" class="form-control" placeholder="인증번호 입력하세요" />
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="enter-box">
                            <button type="submit" class="enter">가입하기</button>
                        </div>
                    </div>
                </form>
                
            </div>
            <div id="footer">
                <div class="footer1">
                    <a href="#">이용약관 | </a>
                    <a href="#" class="bld">개인정보처리방침</a>
                    <a href="#">| 책임의 한계와 법적고지 | </a>
                    <a href="#">회원정보 고객센터</a>
                </div>
                <div class="footer2">
                    <div class="footerbg"></div>
                    <p>Copyright <a href="#">NAVER Corp.</a> All Rights Reserved.</p>
                </div>
            </div>
        </div>

        <script src="libs/BadRequestException.js"></script>
        <script src="libs/RegexHelper.js"></script>
        <script>

            document.querySelector("#join_form").addEventListener("submit", (e) => {
                e.preventDefault();

                const regexHelper = new RegexHelper();

                try {
                    // 아이디 검사
                    regexHelper.value("#user_id", "아이디를 입력하세요.");
                    regexHelper.minLength("#user_id", 5, "5~20자의 영문 소문자, 숫자와 특수기호(_),(-)만 사용 가능합니다.");
                    regexHelper.maxLength("#user_id", 20, "5~20자의 영문 소문자, 숫자와 특수기호(_),(-)만 사용 가능합니다.");
                    regexHelper.navId("#user_id", "5~20자의 영문 소문자, 숫자와 특수기호(_),(-)만 사용 가능합니다.")

                    // 비밀번호 검사
                    regexHelper.value("#user_pw", "필수 정보입니다.");
                    regexHelper.navPw("#user_pw", "8~16자 영문 대 소문자, 숫자, 특수문자를 사용하세요.");

                    // 비밀번호 확인
                    regexHelper.value("#user_pw_re", "필수 정보입니다.");
                    const checkPw = regexHelper.compareTo("#user_pw", "#user_pw_re", "비밀번호가 일치하지 않습니다.");
                    checkPw
                    if(checkPw){
                        document.querySelector("#icon2").classList.add("icon2-2");
                    } else {
                        document.querySelector("#icon2").classList.remove("icon2-2");
                    }

                    // 이름
                    regexHelper.value("#user_name", "필수 정보입니다.");
                    regexHelper.navName("#user_name", "한글과 영문 대 소문자를 사용하세요.(특수기호, 공백 사용 불가)");

                    // 생년월일 (년)
                    regexHelper.value("#user_bty", "태어난 년도 4자리를 정확하게 입력하세요.");
                    regexHelper.num("#user_bty", "생년월일을 다시 확인해주세요.");
                    regexHelper.navDd("#user_bty", 2022, "미래에서 오셨군요. ^^")

                    // 생년월일 (월)
                    regexHelper.navDm(".btm", "태어난 월을 선택하세요.");

                    // 생년월일 (일)
                    regexHelper.value("#user_btd", "태어난 일(날짜) 2자리를 정확하게 입력하세요.");
                    regexHelper.navDd("#user_btd", 31, "생년월일을 다시 확인해주세요.");
                    regexHelper.num("#user_btd", "생년월일을 다시 확인해주세요.");

                    // 성별
                    regexHelper.navDm(".gender", "필수 정보입니다.");

                    // 이메일
                    if(document.querySelector("#email").value){
                    regexHelper.email("#email", "이메일 주소를 다시 확인해주세요.");
                    }

                    // 휴대전화(선택) 전화번호 입력
                    regexHelper.value("#tel", "필수 정보입니다.");
                    regexHelper.cellphone("#tel", "형식에 맞지 않는 번호입니다.")
                    if(regexHelper.cellphone("#tel", "형식에 맞지 않는 번호입니다.")){
                        alert("인증이 필요합니다.")
                    }

                } catch (e) {
                    alert(e.message);
                    console.error(e);
                    document.querySelector(e.selector).focus();
                    return;
                }
            });
        </script>
    </body>
</html>
